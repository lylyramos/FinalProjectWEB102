{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/rdzly/Downloads/FinalProjectWEB102/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/rdzly/Downloads/FinalProjectWEB102/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/Users/rdzly/Downloads/FinalProjectWEB102/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/rdzly/Downloads/FinalProjectWEB102/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/rdzly/Downloads/FinalProjectWEB102/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import'./CreatePost.css';import{supabase}from'../client';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CreatePost=function CreatePost(){var _useState=useState({name:\"\",nationality:\"\",category:\"\"}),_useState2=_slicedToArray(_useState,2),post=_useState2[0],setPost=_useState2[1];var handleChange=function handleChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setPost(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},name,value));});};var createPost=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.next=3;return supabase.from('Final').insert({name:post.name,nationality:post.nationality,created:post.created_at}).select();case 3:window.location=\"/\";case 4:case\"end\":return _context.stop();}}},_callee);}));return function createPost(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"label\",{for:\"name\",children:\"Name\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",name:\"name\",onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{for:\"nationality\",children:\"Nationality\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"nationality\",name:\"nationality\",onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{for:\"category\",children:\"Category (Ex. spicy, sweet, sour)\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"category\",name:\"category\",value:post.category,onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Submit\",onClick:createPost})]})});};export default CreatePost;","map":{"version":3,"names":["React","useState","supabase","CreatePost","name","nationality","category","post","setPost","handleChange","event","target","value","prev","createPost","preventDefault","from","insert","created","created_at","select","window","location"],"sources":["C:/Users/rdzly/Downloads/FinalProjectWEB102/client/src/pages/CreatePost.js"],"sourcesContent":["import React, { useState } from 'react';import './CreatePost.css'\nimport { supabase } from '../client'\n\n\nconst CreatePost = () => {\n\n    const [post, setPost] = useState({name: \"\", nationality: \"\", category: \"\"})\n\n    const handleChange = (event) => {\n        const {name, value} = event.target;\n        setPost( (prev) => {\n            return {\n                ...prev,\n                [name]:value,\n            }\n        })\n    }\n    const createPost = async (event) => {\n        event.preventDefault();\n\n        await supabase\n            .from('Final')\n            .insert({name: post.name, nationality: post.nationality, created: post.created_at})\n            .select();\n\n        window.location = \"/\";\n\n    }\n\n    return (\n        <div>\n            <form>\n                <label for=\"name\">Name</label> <br />\n                <input type=\"text\" id=\"name\" name=\"name\" onChange={handleChange} /><br />\n                <br/>\n\n                <label for=\"nationality\">Nationality</label><br />\n                <input type=\"text\" id=\"nationality\" name=\"nationality\" onChange={handleChange} /><br />\n                <br/>\n\n                <label for=\"category\">Category (Ex. spicy, sweet, sour)</label> <br />\n                <input type=\"text\" id=\"category\" name=\"category\" value={post.category} onChange={handleChange} /><br />\n                <br/>\n\n                <input type=\"submit\" value=\"Submit\" onClick={createPost} />\n            </form>\n        </div>\n    )\n}\n\nexport default CreatePost"],"mappings":"yrBAAA,MAAOA,MAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CAAwC,MAAO,kBAAP,CACxC,OAASC,QAAT,KAAyB,WAAzB,C,wFAGA,GAAMC,WAAU,CAAG,QAAbA,WAAa,EAAM,CAErB,cAAwBF,QAAQ,CAAC,CAACG,IAAI,CAAE,EAAP,CAAWC,WAAW,CAAE,EAAxB,CAA4BC,QAAQ,CAAE,EAAtC,CAAD,CAAhC,wCAAOC,IAAP,eAAaC,OAAb,eAEA,GAAMC,aAAY,CAAG,QAAfA,aAAe,CAACC,KAAD,CAAW,CAC5B,kBAAsBA,KAAK,CAACC,MAA5B,CAAOP,IAAP,eAAOA,IAAP,CAAaQ,KAAb,eAAaA,KAAb,CACAJ,OAAO,CAAE,SAACK,IAAD,CAAU,CACf,sCACOA,IADP,wBAEKT,IAFL,CAEWQ,KAFX,GAIH,CALM,CAAP,CAMH,CARD,CASA,GAAME,WAAU,4FAAG,iBAAOJ,KAAP,oHACfA,KAAK,CAACK,cAAN,GADe,sBAGTb,SAAQ,CACTc,IADC,CACI,OADJ,EAEDC,MAFC,CAEM,CAACb,IAAI,CAAEG,IAAI,CAACH,IAAZ,CAAkBC,WAAW,CAAEE,IAAI,CAACF,WAApC,CAAiDa,OAAO,CAAEX,IAAI,CAACY,UAA/D,CAFN,EAGDC,MAHC,EAHS,QAQfC,MAAM,CAACC,QAAP,CAAkB,GAAlB,CARe,sDAAH,kBAAVR,WAAU,4CAAhB,CAYA,mBACI,kCACI,qCACI,cAAO,GAAG,CAAC,MAAX,kBADJ,kBACmC,aADnC,cAEI,cAAO,IAAI,CAAC,MAAZ,CAAmB,EAAE,CAAC,MAAtB,CAA6B,IAAI,CAAC,MAAlC,CAAyC,QAAQ,CAAEL,YAAnD,EAFJ,cAEuE,aAFvE,cAGI,aAHJ,cAKI,cAAO,GAAG,CAAC,aAAX,yBALJ,cAKgD,aALhD,cAMI,cAAO,IAAI,CAAC,MAAZ,CAAmB,EAAE,CAAC,aAAtB,CAAoC,IAAI,CAAC,aAAzC,CAAuD,QAAQ,CAAEA,YAAjE,EANJ,cAMqF,aANrF,cAOI,aAPJ,cASI,cAAO,GAAG,CAAC,UAAX,+CATJ,kBASoE,aATpE,cAUI,cAAO,IAAI,CAAC,MAAZ,CAAmB,EAAE,CAAC,UAAtB,CAAiC,IAAI,CAAC,UAAtC,CAAiD,KAAK,CAAEF,IAAI,CAACD,QAA7D,CAAuE,QAAQ,CAAEG,YAAjF,EAVJ,cAUqG,aAVrG,cAWI,aAXJ,cAaI,cAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,QAA3B,CAAoC,OAAO,CAAEK,UAA7C,EAbJ,GADJ,EADJ,CAmBH,CA5CD,CA8CA,cAAeX,WAAf"},"metadata":{},"sourceType":"module"}