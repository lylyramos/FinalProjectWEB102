{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/rdzly/Downloads/FinalProjectWEB102/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/rdzly/Downloads/FinalProjectWEB102/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/Users/rdzly/Downloads/FinalProjectWEB102/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/rdzly/Downloads/FinalProjectWEB102/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/rdzly/Downloads/FinalProjectWEB102/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{useParams}from'react-router-dom';import'./EditPost.css';import{supabase}from'../client';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditPost=function EditPost(_ref){var data=_ref.data;var _useParams=useParams(),id=_useParams.id;var _useState=useState({id:null,name:\"\",nationality:\"\",category:\"\"}),_useState2=_slicedToArray(_useState,2),post=_useState2[0],setPost=_useState2[1];var handleChange=function handleChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setPost(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},name,value));});};var updatePost=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.next=3;return supabase.from('Final').update({name:post.name,nationality:post.nationality,category:post.category}).eq('id',id);case 3:window.location=\"/\";case 4:case\"end\":return _context.stop();}}},_callee);}));return function updatePost(_x){return _ref2.apply(this,arguments);};}();var deletePost=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(event){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:event.preventDefault();_context2.next=3;return supabase.from('Final').delete().eq('id',id);case 3:window.location=\"http://localhost:3000/\";case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function deletePost(_x2){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"label\",{for:\"name\",children:\"Name\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",name:\"name\",value:post.name,onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{for:\"nationality\",children:\"Nationality\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"nationality\",name:\"nationality\",value:post.nationality,onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{for:\"category\",children:\"Category\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"category\",name:\"category\",value:post.category,onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Submit\",onClick:updatePost}),/*#__PURE__*/_jsx(\"button\",{className:\"deleteButton\",onClick:deletePost,children:\"Delete\"})]})});};export default EditPost;","map":{"version":3,"names":["React","useState","useParams","supabase","EditPost","data","id","name","nationality","category","post","setPost","handleChange","event","target","value","prev","updatePost","preventDefault","from","update","eq","window","location","deletePost","delete"],"sources":["C:/Users/rdzly/Downloads/FinalProjectWEB102/client/src/pages/EditPost.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport './EditPost.css'\nimport { supabase } from '../client'\n\nconst EditPost = ({data}) => {\n\n    const {id} = useParams();\n    const [post, setPost] = useState({id: null, name: \"\", nationality: \"\", category: \"\"});\n\n    const handleChange = (event) => {\n        const {name, value} = event.target;\n        setPost( (prev) => {\n            return {\n                ...prev,\n                [name]:value,\n            }\n        })\n    }\n    const updatePost = async (event) => {\n        event.preventDefault();\n\n        await supabase\n        .from('Final')\n        .update({name: post.name, nationality: post.nationality, category: post.category})\n        .eq('id', id)\n\n        window.location = \"/\";\n    }\n\n    const deletePost = async (event) => {\n        event.preventDefault();\n\n            await supabase\n                .from('Final')\n                .delete()\n                .eq('id', id);\n\n            window.location = \"http://localhost:3000/\";\n    }\n\n\n    return (\n        <div>\n            <form>\n                <label for=\"name\">Name</label> <br />\n                <input type=\"text\" id=\"name\" name=\"name\" value={post.name} onChange={handleChange} /><br />\n                <br/>\n\n                <label for=\"nationality\">Nationality</label><br />\n                <input type=\"text\" id=\"nationality\" name=\"nationality\" value={post.nationality} onChange={handleChange} /><br />\n                <br/>\n                \n                <label for=\"category\">Category</label> <br />\n                <input type=\"text\" id=\"category\" name=\"category\" value={post.category} onChange={handleChange} /><br />\n                <br/>\n                \n                <input type=\"submit\" value=\"Submit\" onClick={updatePost}/>\n                <button className=\"deleteButton\" onClick={deletePost}>Delete</button>\n            </form>\n        </div>\n    )\n}\n\nexport default EditPost"],"mappings":"yrBAAA,MAAOA,MAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,MAAO,gBAAP,CACA,OAASC,QAAT,KAAyB,WAAzB,C,wFAEA,GAAMC,SAAQ,CAAG,QAAXA,SAAW,MAAY,IAAVC,KAAU,MAAVA,IAAU,CAEzB,eAAaH,SAAS,EAAtB,CAAOI,EAAP,YAAOA,EAAP,CACA,cAAwBL,QAAQ,CAAC,CAACK,EAAE,CAAE,IAAL,CAAWC,IAAI,CAAE,EAAjB,CAAqBC,WAAW,CAAE,EAAlC,CAAsCC,QAAQ,CAAE,EAAhD,CAAD,CAAhC,wCAAOC,IAAP,eAAaC,OAAb,eAEA,GAAMC,aAAY,CAAG,QAAfA,aAAe,CAACC,KAAD,CAAW,CAC5B,kBAAsBA,KAAK,CAACC,MAA5B,CAAOP,IAAP,eAAOA,IAAP,CAAaQ,KAAb,eAAaA,KAAb,CACAJ,OAAO,CAAE,SAACK,IAAD,CAAU,CACf,sCACOA,IADP,wBAEKT,IAFL,CAEWQ,KAFX,GAIH,CALM,CAAP,CAMH,CARD,CASA,GAAME,WAAU,6FAAG,iBAAOJ,KAAP,oHACfA,KAAK,CAACK,cAAN,GADe,sBAGTf,SAAQ,CACbgB,IADK,CACA,OADA,EAELC,MAFK,CAEE,CAACb,IAAI,CAAEG,IAAI,CAACH,IAAZ,CAAkBC,WAAW,CAAEE,IAAI,CAACF,WAApC,CAAiDC,QAAQ,CAAEC,IAAI,CAACD,QAAhE,CAFF,EAGLY,EAHK,CAGF,IAHE,CAGIf,EAHJ,CAHS,QAQfgB,MAAM,CAACC,QAAP,CAAkB,GAAlB,CARe,sDAAH,kBAAVN,WAAU,6CAAhB,CAWA,GAAMO,WAAU,6FAAG,kBAAOX,KAAP,wHACfA,KAAK,CAACK,cAAN,GADe,uBAGLf,SAAQ,CACTgB,IADC,CACI,OADJ,EAEDM,MAFC,GAGDJ,EAHC,CAGE,IAHF,CAGQf,EAHR,CAHK,QAQXgB,MAAM,CAACC,QAAP,CAAkB,wBAAlB,CARW,wDAAH,kBAAVC,WAAU,8CAAhB,CAYA,mBACI,kCACI,qCACI,cAAO,GAAG,CAAC,MAAX,kBADJ,kBACmC,aADnC,cAEI,cAAO,IAAI,CAAC,MAAZ,CAAmB,EAAE,CAAC,MAAtB,CAA6B,IAAI,CAAC,MAAlC,CAAyC,KAAK,CAAEd,IAAI,CAACH,IAArD,CAA2D,QAAQ,CAAEK,YAArE,EAFJ,cAEyF,aAFzF,cAGI,aAHJ,cAKI,cAAO,GAAG,CAAC,aAAX,yBALJ,cAKgD,aALhD,cAMI,cAAO,IAAI,CAAC,MAAZ,CAAmB,EAAE,CAAC,aAAtB,CAAoC,IAAI,CAAC,aAAzC,CAAuD,KAAK,CAAEF,IAAI,CAACF,WAAnE,CAAgF,QAAQ,CAAEI,YAA1F,EANJ,cAM8G,aAN9G,cAOI,aAPJ,cASI,cAAO,GAAG,CAAC,UAAX,sBATJ,kBAS2C,aAT3C,cAUI,cAAO,IAAI,CAAC,MAAZ,CAAmB,EAAE,CAAC,UAAtB,CAAiC,IAAI,CAAC,UAAtC,CAAiD,KAAK,CAAEF,IAAI,CAACD,QAA7D,CAAuE,QAAQ,CAAEG,YAAjF,EAVJ,cAUqG,aAVrG,cAWI,aAXJ,cAaI,cAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,QAA3B,CAAoC,OAAO,CAAEK,UAA7C,EAbJ,cAcI,eAAQ,SAAS,CAAC,cAAlB,CAAiC,OAAO,CAAEO,UAA1C,oBAdJ,GADJ,EADJ,CAoBH,CAzDD,CA2DA,cAAepB,SAAf"},"metadata":{},"sourceType":"module"}