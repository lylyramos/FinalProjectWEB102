{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/rdzly/Downloads/FinalProjectWEB102/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/rdzly/Downloads/FinalProjectWEB102/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/rdzly/Downloads/FinalProjectWEB102/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import'./Card.css';import more from'./more.png';import{Link}from'react-router-dom';import{supabase}from'../client';import{formatDistanceToNow}from'date-fns';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Card=function Card(props){var _useState=useState(props.betCount),_useState2=_slicedToArray(_useState,2),betCount=_useState2[0],setBetCount=_useState2[1];useEffect(function(){setBetCount(props.betCount);},[props.betCount]);var updateCount=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return supabase.from('Final').update({betCount:betCount+1}).eq('id',props.id);case 2:setBetCount(function(prevCount){return prevCount+1;});case 3:case\"end\":return _context.stop();}}},_callee);}));return function updateCount(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"Card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-info\",children:[/*#__PURE__*/_jsx(Link,{to:'edit/'+props.id,children:/*#__PURE__*/_jsx(\"img\",{className:\"moreButton\",alt:\"edit button\",src:more})}),/*#__PURE__*/_jsx(\"p\",{className:\"createdTime\",children:props.created_at}),/*#__PURE__*/_jsx(\"h2\",{className:\"name\",children:props.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"createdTime\",children:[\" Posted \",formatDistanceToNow(new Date(),{addSuffix:true})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"betButton\",onClick:updateCount,children:[\"Favorite\\uD83D\\uDC4D: \",betCount]})]}),/*#__PURE__*/_jsx(Link,{to:'/detail/'+props.id,children:/*#__PURE__*/_jsx(\"button\",{className:\"detailButton\",children:\"See More\"})})]});};export default Card;","map":{"version":3,"names":["React","useState","useEffect","more","Link","supabase","formatDistanceToNow","Card","props","betCount","setBetCount","updateCount","from","update","eq","id","prevCount","created_at","name","Date","addSuffix"],"sources":["C:/Users/rdzly/Downloads/FinalProjectWEB102/client/src/components/Card.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './Card.css';\nimport more from './more.png';\nimport { Link } from 'react-router-dom';\nimport { supabase } from '../client';\nimport { formatDistanceToNow } from 'date-fns';\n\nconst Card = (props) => {\n    const [betCount, setBetCount] = useState(props.betCount);\n\n    useEffect(() => {\n        setBetCount(props.betCount);\n    }, [props.betCount]);\n\n    const updateCount = async () => {\n        await supabase\n            .from('Final')\n            .update({ betCount: betCount + 1 })\n            .eq('id', props.id);\n\n        setBetCount((prevCount) => prevCount + 1);\n    };\n\n    return (\n        <div className=\"Card\">\n            <div className=\"card-info\">\n                <Link to={'edit/' + props.id}><img className=\"moreButton\" alt=\"edit button\" src={more} /></Link>\n                <p className=\"createdTime\">{props.created_at}</p>\n                <h2 className=\"name\">{props.name}</h2>\n                <p className=\"createdTime\"> Posted {formatDistanceToNow(new Date(), { addSuffix: true })}</p>\n                <button className=\"betButton\" onClick={updateCount}>Favoriteüëç: {betCount}</button>\n            </div>\n            <Link to={'/detail/' + props.id}><button className=\"detailButton\">See More</button></Link>\n        </div>\n    );\n};\n\nexport default Card;\n"],"mappings":"waAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAO,YAAP,CACA,MAAOC,KAAP,KAAiB,YAAjB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,QAAT,KAAyB,WAAzB,CACA,OAASC,mBAAT,KAAoC,UAApC,C,wFAEA,GAAMC,KAAI,CAAG,QAAPA,KAAO,CAACC,KAAD,CAAW,CACpB,cAAgCP,QAAQ,CAACO,KAAK,CAACC,QAAP,CAAxC,wCAAOA,QAAP,eAAiBC,WAAjB,eAEAR,SAAS,CAAC,UAAM,CACZQ,WAAW,CAACF,KAAK,CAACC,QAAP,CAAX,CACH,CAFQ,CAEN,CAACD,KAAK,CAACC,QAAP,CAFM,CAAT,CAIA,GAAME,YAAW,4FAAG,2JACVN,SAAQ,CACTO,IADC,CACI,OADJ,EAEDC,MAFC,CAEM,CAAEJ,QAAQ,CAAEA,QAAQ,CAAG,CAAvB,CAFN,EAGDK,EAHC,CAGE,IAHF,CAGQN,KAAK,CAACO,EAHd,CADU,QAMhBL,WAAW,CAAC,SAACM,SAAD,QAAeA,UAAS,CAAG,CAA3B,EAAD,CAAX,CANgB,sDAAH,kBAAXL,YAAW,0CAAjB,CASA,mBACI,aAAK,SAAS,CAAC,MAAf,wBACI,aAAK,SAAS,CAAC,WAAf,wBACI,KAAC,IAAD,EAAM,EAAE,CAAE,QAAUH,KAAK,CAACO,EAA1B,uBAA8B,YAAK,SAAS,CAAC,YAAf,CAA4B,GAAG,CAAC,aAAhC,CAA8C,GAAG,CAAEZ,IAAnD,EAA9B,EADJ,cAEI,UAAG,SAAS,CAAC,aAAb,UAA4BK,KAAK,CAACS,UAAlC,EAFJ,cAGI,WAAI,SAAS,CAAC,MAAd,UAAsBT,KAAK,CAACU,IAA5B,EAHJ,cAII,WAAG,SAAS,CAAC,aAAb,sBAAoCZ,mBAAmB,CAAC,GAAIa,KAAJ,EAAD,CAAa,CAAEC,SAAS,CAAE,IAAb,CAAb,CAAvD,GAJJ,cAKI,gBAAQ,SAAS,CAAC,WAAlB,CAA8B,OAAO,CAAET,WAAvC,oCAAiEF,QAAjE,GALJ,GADJ,cAQI,KAAC,IAAD,EAAM,EAAE,CAAE,WAAaD,KAAK,CAACO,EAA7B,uBAAiC,eAAQ,SAAS,CAAC,cAAlB,sBAAjC,EARJ,GADJ,CAYH,CA5BD,CA8BA,cAAeR,KAAf"},"metadata":{},"sourceType":"module"}