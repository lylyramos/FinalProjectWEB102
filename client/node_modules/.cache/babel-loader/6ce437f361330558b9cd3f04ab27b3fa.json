{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/rdzly/Downloads/FinalProjectWEB102/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/rdzly/Downloads/FinalProjectWEB102/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/rdzly/Downloads/FinalProjectWEB102/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{useParams}from'react-router-dom';import{supabase}from'../client';import'./PostDetail.css';import Comments from'./Comments';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PostDetail=function PostDetail(){var _useParams=useParams(),id=_useParams.id;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),post=_useState2[0],setPost=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];useEffect(function(){var fetchPost=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$supabase$from$,data,_error;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return supabase.from('Final').select().eq('id',id);case 3:_yield$supabase$from$=_context.sent;data=_yield$supabase$from$.data;_error=_yield$supabase$from$.error;if(!_error){_context.next=8;break;}throw _error;case 8:if(!(data&&data.length>0)){_context.next=12;break;}setPost(data[0]);_context.next=13;break;case 12:throw new Error('Post not found');case 13:_context.next=18;break;case 15:_context.prev=15;_context.t0=_context[\"catch\"](0);setError(_context.t0.message);case 18:_context.prev=18;setLoading(false);return _context.finish(18);case 21:case\"end\":return _context.stop();}}},_callee,null,[[0,15,18,21]]);}));return function fetchPost(){return _ref.apply(this,arguments);};}();fetchPost();},[id]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"});// Display loading spinner\n}if(error){return/*#__PURE__*/_jsxs(\"p\",{children:[\"Error: \",error]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"PostDetail\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"plate-details\",children:\"Plate Details\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"name\",children:[\"Plate's Name: \",post.name]}),/*#__PURE__*/_jsxs(\"p\",{className:\"nationality\",children:[\"Nationality: \",post.nationality]}),/*#__PURE__*/_jsxs(\"p\",{className:\"category\",children:[\"Category: \",post.category]}),/*#__PURE__*/_jsx(Comments,{postId:id})]});};export default PostDetail;","map":{"version":3,"names":["React","useState","useEffect","useParams","supabase","Comments","PostDetail","id","post","setPost","loading","setLoading","error","setError","fetchPost","from","select","eq","data","length","Error","message","name","nationality","category"],"sources":["C:/Users/rdzly/Downloads/FinalProjectWEB102/client/src/pages/PostDetail.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { supabase } from '../client';\r\nimport './PostDetail.css';\r\nimport Comments from './Comments';\r\n\r\nconst PostDetail = () => {\r\n    const { id } = useParams(); \r\n    const [post, setPost] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const fetchPost = async () => {\r\n            try {\r\n                const { data, error } = await supabase\r\n                    .from('Final')\r\n                    .select()\r\n                    .eq('id', id);\r\n\r\n                if (error) {\r\n                    throw error;\r\n                }\r\n\r\n                if (data && data.length > 0) {\r\n                    setPost(data[0]);\r\n                } else {\r\n                    throw new Error('Post not found');\r\n                }\r\n            } catch (error) {\r\n                setError(error.message);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchPost();\r\n    }, [id]);\r\n\r\n    if (loading) {\r\n        return <div className=\"spinner\" />; // Display loading spinner\r\n    }\r\n\r\n    if (error) {\r\n        return <p>Error: {error}</p>;\r\n    }\r\n\r\n    return (\r\n        <div className=\"PostDetail\">\r\n            <h2 className=\"plate-details\">Plate Details</h2>\r\n            <p className=\"name\">Plate's Name: {post.name}</p>\r\n            <p className=\"nationality\">Nationality: {post.nationality}</p>\r\n            <p className=\"category\">Category: {post.category}</p>\r\n            <Comments postId={id} />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PostDetail;\r\n"],"mappings":"waAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,OAASC,QAAT,KAAyB,WAAzB,CACA,MAAO,kBAAP,CACA,MAAOC,SAAP,KAAqB,YAArB,C,wFAEA,GAAMC,WAAU,CAAG,QAAbA,WAAa,EAAM,CACrB,eAAeH,SAAS,EAAxB,CAAQI,EAAR,YAAQA,EAAR,CACA,cAAwBN,QAAQ,CAAC,IAAD,CAAhC,wCAAOO,IAAP,eAAaC,OAAb,eACA,eAA8BR,QAAQ,CAAC,IAAD,CAAtC,yCAAOS,OAAP,eAAgBC,UAAhB,eACA,eAA0BV,QAAQ,CAAC,IAAD,CAAlC,yCAAOW,KAAP,eAAcC,QAAd,eAEAX,SAAS,CAAC,UAAM,CACZ,GAAMY,UAAS,4FAAG,iNAEoBV,SAAQ,CACjCW,IADyB,CACpB,OADoB,EAEzBC,MAFyB,GAGzBC,EAHyB,CAGtB,IAHsB,CAGhBV,EAHgB,CAFpB,4CAEFW,IAFE,uBAEFA,IAFE,CAEIN,MAFJ,uBAEIA,KAFJ,KAONA,MAPM,8BAQAA,OARA,aAWNM,IAAI,EAAIA,IAAI,CAACC,MAAL,CAAc,CAXhB,2BAYNV,OAAO,CAACS,IAAI,CAAC,CAAD,CAAL,CAAP,CAZM,oCAcA,IAAIE,MAAJ,CAAU,gBAAV,CAdA,0FAiBVP,QAAQ,CAAC,YAAMQ,OAAP,CAAR,CAjBU,yBAmBVV,UAAU,CAAC,KAAD,CAAV,CAnBU,sGAAH,kBAATG,UAAS,0CAAf,CAuBAA,SAAS,GACZ,CAzBQ,CAyBN,CAACP,EAAD,CAzBM,CAAT,CA2BA,GAAIG,OAAJ,CAAa,CACT,mBAAO,YAAK,SAAS,CAAC,SAAf,EAAP,CAAoC;AACvC,CAED,GAAIE,KAAJ,CAAW,CACP,mBAAO,+BAAWA,KAAX,GAAP,CACH,CAED,mBACI,aAAK,SAAS,CAAC,YAAf,wBACI,WAAI,SAAS,CAAC,eAAd,2BADJ,cAEI,WAAG,SAAS,CAAC,MAAb,4BAAmCJ,IAAI,CAACc,IAAxC,GAFJ,cAGI,WAAG,SAAS,CAAC,aAAb,2BAAyCd,IAAI,CAACe,WAA9C,GAHJ,cAII,WAAG,SAAS,CAAC,UAAb,wBAAmCf,IAAI,CAACgB,QAAxC,GAJJ,cAKI,KAAC,QAAD,EAAU,MAAM,CAAEjB,EAAlB,EALJ,GADJ,CASH,CAlDD,CAoDA,cAAeD,WAAf"},"metadata":{},"sourceType":"module"}